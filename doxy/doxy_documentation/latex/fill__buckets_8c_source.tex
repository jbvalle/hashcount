\hypertarget{fill__buckets_8c_source}{}\doxysection{fill\+\_\+buckets.\+c}
\label{fill__buckets_8c_source}\index{/home/jv/Coding/hashcount/src/fill\_buckets.c@{/home/jv/Coding/hashcount/src/fill\_buckets.c}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001 }
\DoxyCodeLine{00006 \textcolor{preprocessor}{\#include <stdio.h>}}
\DoxyCodeLine{00007 \textcolor{preprocessor}{\#include <stdlib.h>}}
\DoxyCodeLine{00008 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{00009 \textcolor{preprocessor}{\#include <stdint.h>}}
\DoxyCodeLine{00010 }
\DoxyCodeLine{00011 \textcolor{preprocessor}{\#include "../inc/node\_t.h"}}
\DoxyCodeLine{00012 \textcolor{preprocessor}{\#include "../inc/stack.h"}}
\DoxyCodeLine{00013 \textcolor{preprocessor}{\#include "../inc/append.h"}}
\DoxyCodeLine{00014 \textcolor{preprocessor}{\#include "../inc/insert.h"}}
\DoxyCodeLine{00015 }
\DoxyCodeLine{\Hypertarget{fill__buckets_8c_source_l00022}\mbox{\hyperlink{fill__buckets_8c_a81d78745bfb621471ef9dac9badb6db9}{00022}} uint64\_t \mbox{\hyperlink{fill__buckets_8c_a81d78745bfb621471ef9dac9badb6db9}{pow\_t}}(\textcolor{keywordtype}{int} base, \textcolor{keywordtype}{int} exp)\{}
\DoxyCodeLine{00023 }
\DoxyCodeLine{00025     uint64\_t result = 1;}
\DoxyCodeLine{00026 }
\DoxyCodeLine{00028     \textcolor{keywordflow}{if}(exp == 0)\textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{00029 }
\DoxyCodeLine{00031     \textcolor{keywordflow}{if}(exp < 0)\textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00032 }
\DoxyCodeLine{00034     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < exp; i++)\{}
\DoxyCodeLine{00035         result *= (uint64\_t)base;}
\DoxyCodeLine{00036     \}}
\DoxyCodeLine{00037 }
\DoxyCodeLine{00039     \textcolor{keywordflow}{return} result;}
\DoxyCodeLine{00040 \}}
\DoxyCodeLine{\Hypertarget{fill__buckets_8c_source_l00048}\mbox{\hyperlink{fill__buckets_8c_aa6707e4d0f37a801750800a3571741fc}{00048}} \textcolor{keywordtype}{int} \mbox{\hyperlink{fill__buckets_8c_aa6707e4d0f37a801750800a3571741fc}{hash\_index}}(\textcolor{keywordtype}{char} *\mbox{\hyperlink{structnode_a4fac939f5236506c96b518c8bde027e6}{word}}, \textcolor{keywordtype}{int} hash\_limit)\{}
\DoxyCodeLine{00049 }
\DoxyCodeLine{00051     uint64\_t hash\_value = 0;}
\DoxyCodeLine{00052     \textcolor{keywordtype}{int} hash\_const = 13;}
\DoxyCodeLine{00053 }
\DoxyCodeLine{00055     \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; \mbox{\hyperlink{structnode_a4fac939f5236506c96b518c8bde027e6}{word}}[i] != \textcolor{charliteral}{'\(\backslash\)0'}; i++)\{}
\DoxyCodeLine{00056 }
\DoxyCodeLine{00057         hash\_value += \mbox{\hyperlink{structnode_a4fac939f5236506c96b518c8bde027e6}{word}}[i] * \mbox{\hyperlink{fill__buckets_8c_a81d78745bfb621471ef9dac9badb6db9}{pow\_t}}(hash\_const, i);}
\DoxyCodeLine{00058     \}}
\DoxyCodeLine{00059 }
\DoxyCodeLine{00061     \textcolor{keywordflow}{return} hash\_value\%hash\_limit;}
\DoxyCodeLine{00062 \}}
\DoxyCodeLine{\Hypertarget{fill__buckets_8c_source_l00069}\mbox{\hyperlink{fill__buckets_8c_ad8202785f43186178e979f230ffa5075}{00069}} \textcolor{keywordtype}{void} \mbox{\hyperlink{fill__buckets_8c_ad8202785f43186178e979f230ffa5075}{add\_node}}(\mbox{\hyperlink{structnode}{node\_t}} **head, \textcolor{keywordtype}{char} *new\_key)\{}
\DoxyCodeLine{00070 }
\DoxyCodeLine{00072     \mbox{\hyperlink{structnode}{node\_t}} *ptr = *head;}
\DoxyCodeLine{00073 }
\DoxyCodeLine{00075     \mbox{\hyperlink{structnode}{node\_t}} *\textcolor{keyword}{new} = (\mbox{\hyperlink{structnode}{node\_t}} *)malloc(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{structnode}{node\_t}}));}
\DoxyCodeLine{00076     strcpy(new-\/>word, new\_key);}
\DoxyCodeLine{00077     \textcolor{keyword}{new}-\/>occurance = 1;}
\DoxyCodeLine{00078     \textcolor{keyword}{new}-\/>next = NULL;}
\DoxyCodeLine{00079 }
\DoxyCodeLine{00081     \textcolor{keywordflow}{if}(ptr == NULL)\{}
\DoxyCodeLine{00082 }
\DoxyCodeLine{00083         *head = \textcolor{keyword}{new};}
\DoxyCodeLine{00084         \textcolor{keywordflow}{return};}
\DoxyCodeLine{00085     \}}
\DoxyCodeLine{00086     free(\textcolor{keyword}{new});}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00089     ptr = *head;}
\DoxyCodeLine{00090 }
\DoxyCodeLine{00091     \textcolor{keywordflow}{while}(ptr!=NULL)\{}
\DoxyCodeLine{00092 }
\DoxyCodeLine{00093         \textcolor{keywordflow}{if}(strcmp(ptr-\/>\mbox{\hyperlink{structnode_a4fac939f5236506c96b518c8bde027e6}{word}},new\_key)==0)\{}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095             ptr-\/>\mbox{\hyperlink{structnode_a94387ceffd9f9e4b7d3e1697c4f8d507}{occurance}} += 1;}
\DoxyCodeLine{00096             \textcolor{keywordflow}{return};}
\DoxyCodeLine{00097         \}}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099         ptr = ptr-\/>\mbox{\hyperlink{structnode_aa3e8aa83f864292b5a01210f4453fcc0}{next}};}
\DoxyCodeLine{00100     \}}
\DoxyCodeLine{00101 }
\DoxyCodeLine{00103     ptr = *head;}
\DoxyCodeLine{00104 }
\DoxyCodeLine{00105     \textcolor{keywordflow}{if}(strcmp(ptr-\/>\mbox{\hyperlink{structnode_a4fac939f5236506c96b518c8bde027e6}{word}}, new\_key) > 0)\{}
\DoxyCodeLine{00106 }
\DoxyCodeLine{00107         \mbox{\hyperlink{stack_8h_a566f0c4642ac167626a631f693169b11}{stack}}(head, new\_key);}
\DoxyCodeLine{00108         \textcolor{keywordflow}{return};}
\DoxyCodeLine{00109     \}}
\DoxyCodeLine{00110 }
\DoxyCodeLine{00112     ptr = *head;}
\DoxyCodeLine{00113 }
\DoxyCodeLine{00114     \textcolor{keywordflow}{for}(; (ptr-\/>\mbox{\hyperlink{structnode_aa3e8aa83f864292b5a01210f4453fcc0}{next}} != NULL)\&\&(strcmp(ptr-\/>\mbox{\hyperlink{structnode_aa3e8aa83f864292b5a01210f4453fcc0}{next}}-\/>\mbox{\hyperlink{structnode_a4fac939f5236506c96b518c8bde027e6}{word}}, new\_key) < 0); ptr = ptr-\/>\mbox{\hyperlink{structnode_aa3e8aa83f864292b5a01210f4453fcc0}{next}});}
\DoxyCodeLine{00115 }
\DoxyCodeLine{00116     \mbox{\hyperlink{insert_8h_a1f22eccdb6399bb02fcac2ab4102bcdd}{insert}}(head, ptr-\/>\mbox{\hyperlink{structnode_a4fac939f5236506c96b518c8bde027e6}{word}}, new\_key);}
\DoxyCodeLine{00117 }
\DoxyCodeLine{00119     \textcolor{keywordflow}{if}(ptr == NULL)\mbox{\hyperlink{append_8h_a53de05066e101242b94e4f458b5ae35b}{append}}(head, new\_key);}
\DoxyCodeLine{00120 }
\DoxyCodeLine{00121 \}}
\DoxyCodeLine{00122 }
\DoxyCodeLine{\Hypertarget{fill__buckets_8c_source_l00129}\mbox{\hyperlink{fill__buckets_8c_ad7879271ac1cf2fd1a4fd3159d65b627}{00129}} \textcolor{keywordtype}{void} \mbox{\hyperlink{fill__buckets_8c_ad7879271ac1cf2fd1a4fd3159d65b627}{fill\_buckets}}(\mbox{\hyperlink{structnode}{node\_t}} **buckets, \textcolor{keywordtype}{int} hash\_limit, FILE *input\_stream)\{}
\DoxyCodeLine{00130 }
\DoxyCodeLine{00131 }
\DoxyCodeLine{00132     \textcolor{keywordtype}{char} buff[100];}
\DoxyCodeLine{00133     \textcolor{keywordtype}{char} *token;\textcolor{keywordtype}{char} delimiter[] = \textcolor{stringliteral}{" .\(\backslash\)n;:,?\(\backslash\)t"};}
\DoxyCodeLine{00134 }
\DoxyCodeLine{00136     \textcolor{keywordflow}{while}(fgets(buff,\textcolor{keyword}{sizeof}(buff),input\_stream)!=NULL)\{}
\DoxyCodeLine{00137 }
\DoxyCodeLine{00139         token = strtok(buff, delimiter);}
\DoxyCodeLine{00140 }
\DoxyCodeLine{00141         \textcolor{keywordflow}{while}(token!=NULL)\{}
\DoxyCodeLine{00142 }
\DoxyCodeLine{00144             \mbox{\hyperlink{fill__buckets_8c_ad8202785f43186178e979f230ffa5075}{add\_node}}(\&buckets[\mbox{\hyperlink{fill__buckets_8c_aa6707e4d0f37a801750800a3571741fc}{hash\_index}}(token, hash\_limit)], token);}
\DoxyCodeLine{00145 }
\DoxyCodeLine{00146             token = strtok(NULL, delimiter);}
\DoxyCodeLine{00147         \}}
\DoxyCodeLine{00148 }
\DoxyCodeLine{00150         \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int} i = 0; i < 100; i++)buff[i]=\textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00151     \}}
\DoxyCodeLine{00152 }
\DoxyCodeLine{00153 }
\DoxyCodeLine{00154 \}}

\end{DoxyCode}
